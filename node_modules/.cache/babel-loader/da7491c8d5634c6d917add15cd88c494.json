{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Dashboard updated with API\\\\src\\\\pages\\\\Analytics.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport CarDetails from '../pages/CarDetails.jsx';\nimport { getAllVehicles, deleteVehicle } from '../api';\nimport '../styles/car-listing.css';\nimport AddServiceDetailsForm from './AddServiceDetails.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CarItem = _ref => {\n  let {\n    car,\n    onEdit,\n    onDelete,\n    onServiceAdd\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"car-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: car.imgUrl,\n      alt: `${car.brand} ${car.carName}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: car.carName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Brand:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 7\n      }, this), \" \", car.brand]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Model:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }, this), \" \", car.model]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }, this), \" $\", car.vehiclePrice, \" / day\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button_styles\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onEdit(car),\n        className: \"edit_button\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onDelete(car.id),\n        className: \"delete_button\",\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onServiceAdd(car.id),\n        className: \"edit_button1\",\n        children: \"Add Service Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 3\n  }, this);\n};\n\n_c = CarItem;\n\nconst CarListingPage = () => {\n  _s();\n\n  const [cars, setCars] = useState([]);\n  const [editingCar, setEditingCar] = useState(null);\n  const [addingService, setAddingService] = useState(false);\n  const [selectedCarId, setSelectedCarId] = useState(null);\n  useEffect(() => {\n    const fetchCars = async () => {\n      try {\n        const response = await getAllVehicles();\n        console.log(response.data);\n        setCars(response.data);\n      } catch (error) {\n        console.error('Error fetching car data:', error);\n      }\n    };\n\n    fetchCars();\n  }, []);\n\n  const handleEdit = car => {\n    setEditingCar(car);\n  };\n\n  const handleDelete = async carId => {\n    try {\n      if (carId) {\n        await deleteVehicle(carId);\n        setCars(cars.filter(car => car.id !== carId));\n      }\n    } catch (error) {\n      console.error('Error deleting vehicle:', error);\n    }\n  };\n\n  const handleSave = updatedCar => {\n    setCars(cars.map(car => car.id === updatedCar.id ? updatedCar : car));\n    setEditingCar(null);\n  };\n\n  const handleServiceAdd = carId => {\n    setSelectedCarId(carId);\n    setAddingService(true);\n  };\n\n  const handleServiceSave = newServiceDetails => {\n    setCars(cars.map(car => car.id === selectedCarId ? { ...car,\n      serviceDetails: newServiceDetails\n    } : car));\n    setAddingService(false);\n    setSelectedCarId(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"car-listing\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"car-listing-title\",\n      children: \"Car Listing\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), editingCar ? /*#__PURE__*/_jsxDEV(CarDetails, {\n      car: editingCar,\n      onSave: handleSave,\n      onCancel: () => setEditingCar(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this) : addingService ? /*#__PURE__*/_jsxDEV(AddServiceDetailsForm, {\n      serviceDetails: {\n        serviceDetailsId: null,\n        serviceDate: '',\n        serviceCenterName: '',\n        serviceCenterLocation: '',\n        travelDistance: '',\n        serviceCost: '',\n        driverName: '',\n        driverPhone: '',\n        nextServiceDate: '',\n        nextServiceDistance: '',\n        vehicleId: {\n          vehicleId: selectedCarId\n        },\n        changedParts: []\n      },\n      onSave: handleServiceSave,\n      onCancel: () => setAddingService(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"car-list\",\n      children: cars.map(car => /*#__PURE__*/_jsxDEV(CarItem, {\n        car: car,\n        onEdit: handleEdit,\n        onDelete: () => {\n          console.log(car.id);\n          handleDelete(car.id);\n        },\n        onServiceAdd: handleServiceAdd\n      }, car.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CarListingPage, \"pgMqXzXdwpBJrEirfrZQaAqpAKA=\");\n\n_c2 = CarListingPage;\nexport default CarListingPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CarItem\");\n$RefreshReg$(_c2, \"CarListingPage\");","map":{"version":3,"sources":["C:/Users/Asus/Downloads/Dashboard updated with API/src/pages/Analytics.jsx"],"names":["React","useState","useEffect","CarDetails","getAllVehicles","deleteVehicle","AddServiceDetailsForm","CarItem","car","onEdit","onDelete","onServiceAdd","imgUrl","brand","carName","model","vehiclePrice","id","CarListingPage","cars","setCars","editingCar","setEditingCar","addingService","setAddingService","selectedCarId","setSelectedCarId","fetchCars","response","console","log","data","error","handleEdit","handleDelete","carId","filter","handleSave","updatedCar","map","handleServiceAdd","handleServiceSave","newServiceDetails","serviceDetails","serviceDetailsId","serviceDate","serviceCenterName","serviceCenterLocation","travelDistance","serviceCost","driverName","driverPhone","nextServiceDate","nextServiceDistance","vehicleId","changedParts"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,QAA9C;AACA,OAAO,2BAAP;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;;;AAEA,MAAMC,OAAO,GAAG;AAAA,MAAC;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,MAAP;AAAeC,IAAAA,QAAf;AAAyBC,IAAAA;AAAzB,GAAD;AAAA,sBACd;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACE;AAAK,MAAA,GAAG,EAAEH,GAAG,CAACI,MAAd;AAAsB,MAAA,GAAG,EAAG,GAAEJ,GAAG,CAACK,KAAM,IAAGL,GAAG,CAACM,OAAQ;AAAvD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,gBAAKN,GAAG,CAACM;AAAT;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,OAC2BN,GAAG,CAACK,KAD/B;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,eAME;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,OAC2BL,GAAG,CAACO,KAD/B;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eASE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,QAC4BP,GAAG,CAACQ,YADhC;AAAA;AAAA;AAAA;AAAA;AAAA,YATF,eAYE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACE;AAAQ,QAAA,OAAO,EAAE,MAAMP,MAAM,CAACD,GAAD,CAA7B;AAAoC,QAAA,SAAS,EAAC,aAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAQ,QAAA,OAAO,EAAE,MAAME,QAAQ,CAACF,GAAG,CAACS,EAAL,CAA/B;AAAyC,QAAA,SAAS,EAAC,eAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE;AAAQ,QAAA,OAAO,EAAE,MAAMN,YAAY,CAACH,GAAG,CAACS,EAAL,CAAnC;AAA6C,QAAA,SAAS,EAAC,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF;AAAA;AAAA;AAAA;AAAA;AAAA,UADc;AAAA,CAAhB;;KAAMV,O;;AA2BN,MAAMW,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACoB,UAAD,EAAaC,aAAb,IAA8BrB,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACsB,aAAD,EAAgBC,gBAAhB,IAAoCvB,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACwB,aAAD,EAAgBC,gBAAhB,IAAoCzB,QAAQ,CAAC,IAAD,CAAlD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyB,SAAS,GAAG,YAAY;AAC5B,UAAI;AACF,cAAMC,QAAQ,GAAG,MAAMxB,cAAc,EAArC;AACAyB,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AAEAX,QAAAA,OAAO,CAACQ,QAAQ,CAACG,IAAV,CAAP;AACD,OALD,CAKE,OAAOC,KAAP,EAAc;AACdH,QAAAA,OAAO,CAACG,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACD;AACF,KATD;;AAWAL,IAAAA,SAAS;AACV,GAbQ,EAaN,EAbM,CAAT;;AAeA,QAAMM,UAAU,GAAIzB,GAAD,IAAS;AAC1Bc,IAAAA,aAAa,CAACd,GAAD,CAAb;AACD,GAFD;;AAIA,QAAM0B,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpC,QAAI;AACF,UAAIA,KAAJ,EAAW;AACT,cAAM9B,aAAa,CAAC8B,KAAD,CAAnB;AACAf,QAAAA,OAAO,CAACD,IAAI,CAACiB,MAAL,CAAa5B,GAAD,IAASA,GAAG,CAACS,EAAJ,KAAWkB,KAAhC,CAAD,CAAP;AACD;AACF,KALD,CAKE,OAAOH,KAAP,EAAc;AACdH,MAAAA,OAAO,CAACG,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;AACD;AACF,GATD;;AAWA,QAAMK,UAAU,GAAIC,UAAD,IAAgB;AACjClB,IAAAA,OAAO,CAACD,IAAI,CAACoB,GAAL,CAAU/B,GAAD,IAAUA,GAAG,CAACS,EAAJ,KAAWqB,UAAU,CAACrB,EAAtB,GAA2BqB,UAA3B,GAAwC9B,GAA3D,CAAD,CAAP;AACAc,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD,GAHD;;AAKA,QAAMkB,gBAAgB,GAAIL,KAAD,IAAW;AAClCT,IAAAA,gBAAgB,CAACS,KAAD,CAAhB;AACAX,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,GAHD;;AAKA,QAAMiB,iBAAiB,GAAIC,iBAAD,IAAuB;AAC/CtB,IAAAA,OAAO,CACLD,IAAI,CAACoB,GAAL,CAAU/B,GAAD,IACPA,GAAG,CAACS,EAAJ,KAAWQ,aAAX,GACI,EAAE,GAAGjB,GAAL;AAAUmC,MAAAA,cAAc,EAAED;AAA1B,KADJ,GAEIlC,GAHN,CADK,CAAP;AAOAgB,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,GAVD;;AAYA,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,4BACE;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEGL,UAAU,gBACT,QAAC,UAAD;AACE,MAAA,GAAG,EAAEA,UADP;AAEE,MAAA,MAAM,EAAEgB,UAFV;AAGE,MAAA,QAAQ,EAAE,MAAMf,aAAa,CAAC,IAAD;AAH/B;AAAA;AAAA;AAAA;AAAA,YADS,GAMPC,aAAa,gBACf,QAAC,qBAAD;AACE,MAAA,cAAc,EAAE;AACdqB,QAAAA,gBAAgB,EAAE,IADJ;AAEdC,QAAAA,WAAW,EAAE,EAFC;AAGdC,QAAAA,iBAAiB,EAAE,EAHL;AAIdC,QAAAA,qBAAqB,EAAE,EAJT;AAKdC,QAAAA,cAAc,EAAE,EALF;AAMdC,QAAAA,WAAW,EAAE,EANC;AAOdC,QAAAA,UAAU,EAAE,EAPE;AAQdC,QAAAA,WAAW,EAAE,EARC;AASdC,QAAAA,eAAe,EAAE,EATH;AAUdC,QAAAA,mBAAmB,EAAE,EAVP;AAWdC,QAAAA,SAAS,EAAE;AAAEA,UAAAA,SAAS,EAAE7B;AAAb,SAXG;AAYd8B,QAAAA,YAAY,EAAE;AAZA,OADlB;AAeE,MAAA,MAAM,EAAEd,iBAfV;AAgBE,MAAA,QAAQ,EAAE,MAAMjB,gBAAgB,CAAC,KAAD;AAhBlC;AAAA;AAAA;AAAA;AAAA,YADe,gBAoBf;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,gBACGL,IAAI,CAACoB,GAAL,CAAU/B,GAAD,iBACR,QAAC,OAAD;AAEE,QAAA,GAAG,EAAEA,GAFP;AAGE,QAAA,MAAM,EAAEyB,UAHV;AAIE,QAAA,QAAQ,EAAE,MAAM;AACdJ,UAAAA,OAAO,CAACC,GAAR,CAAYtB,GAAG,CAACS,EAAhB;AACAiB,UAAAA,YAAY,CAAC1B,GAAG,CAACS,EAAL,CAAZ;AACD,SAPH;AAQE,QAAA,YAAY,EAAEuB;AARhB,SACOhC,GAAG,CAACS,EADX;AAAA;AAAA;AAAA;AAAA,cADD;AADH;AAAA;AAAA;AAAA;AAAA,YA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8CD,CAxGD;;GAAMC,c;;MAAAA,c;AA0GN,eAAeA,cAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CarDetails from '../pages/CarDetails.jsx';\nimport { getAllVehicles, deleteVehicle } from '../api';\nimport '../styles/car-listing.css';\nimport AddServiceDetailsForm from './AddServiceDetails.jsx';\n\nconst CarItem = ({ car, onEdit, onDelete, onServiceAdd }) => (\n  <div className='car-item'>\n    <img src={car.imgUrl} alt={`${car.brand} ${car.carName}`} />\n    <h2>{car.carName}</h2>\n    <p>\n      <strong>Brand:</strong> {car.brand}\n    </p>\n    <p>\n      <strong>Model:</strong> {car.model}\n    </p>\n    <p>\n      <strong>Price:</strong> ${car.vehiclePrice} / day\n    </p>\n    <div className='button_styles'>\n      <button onClick={() => onEdit(car)} className='edit_button'>\n        Edit\n      </button>\n      <button onClick={() => onDelete(car.id)} className='delete_button'>\n        Delete\n      </button>\n      <button onClick={() => onServiceAdd(car.id)} className='edit_button1'>\n        Add Service Details\n      </button>\n    </div>\n  </div>\n);\n\nconst CarListingPage = () => {\n  const [cars, setCars] = useState([]);\n  const [editingCar, setEditingCar] = useState(null);\n  const [addingService, setAddingService] = useState(false);\n  const [selectedCarId, setSelectedCarId] = useState(null);\n\n  useEffect(() => {\n    const fetchCars = async () => {\n      try {\n        const response = await getAllVehicles();\n        console.log(response.data);\n\n        setCars(response.data);\n      } catch (error) {\n        console.error('Error fetching car data:', error);\n      }\n    };\n\n    fetchCars();\n  }, []);\n\n  const handleEdit = (car) => {\n    setEditingCar(car);\n  };\n\n  const handleDelete = async (carId) => {\n    try {\n      if (carId) {\n        await deleteVehicle(carId);\n        setCars(cars.filter((car) => car.id !== carId));\n      }\n    } catch (error) {\n      console.error('Error deleting vehicle:', error);\n    }\n  };\n\n  const handleSave = (updatedCar) => {\n    setCars(cars.map((car) => (car.id === updatedCar.id ? updatedCar : car)));\n    setEditingCar(null);\n  };\n\n  const handleServiceAdd = (carId) => {\n    setSelectedCarId(carId);\n    setAddingService(true);\n  };\n\n  const handleServiceSave = (newServiceDetails) => {\n    setCars(\n      cars.map((car) =>\n        car.id === selectedCarId\n          ? { ...car, serviceDetails: newServiceDetails }\n          : car\n      )\n    );\n    setAddingService(false);\n    setSelectedCarId(null);\n  };\n\n  return (\n    <div className='car-listing'>\n      <h1 className='car-listing-title'>Car Listing</h1>\n      {editingCar ? (\n        <CarDetails\n          car={editingCar}\n          onSave={handleSave}\n          onCancel={() => setEditingCar(null)}\n        />\n      ) : addingService ? (\n        <AddServiceDetailsForm\n          serviceDetails={{\n            serviceDetailsId: null,\n            serviceDate: '',\n            serviceCenterName: '',\n            serviceCenterLocation: '',\n            travelDistance: '',\n            serviceCost: '',\n            driverName: '',\n            driverPhone: '',\n            nextServiceDate: '',\n            nextServiceDistance: '',\n            vehicleId: { vehicleId: selectedCarId },\n            changedParts: [],\n          }}\n          onSave={handleServiceSave}\n          onCancel={() => setAddingService(false)}\n        />\n      ) : (\n        <div className='car-list'>\n          {cars.map((car) => (\n            <CarItem\n              key={car.id}\n              car={car}\n              onEdit={handleEdit}\n              onDelete={() => {\n                console.log(car.id)\n                handleDelete(car.id);\n              }}\n              onServiceAdd={handleServiceAdd}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CarListingPage;"]},"metadata":{},"sourceType":"module"}